<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta id="theme-color" name="theme-color" content="#fff">
	<base target="_blank">
	<title>Webgazer.js test</title>
	<!-- style -->
	<link rel="stylesheet" type="text/css" href="../static/css/main.css">
	<!-- js -->
	<script src="../static/js/webgazer.js" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
</head>


<body>
	<script type="text/javascript">
		$(document).ready(function() {
			webgazer.setGazeListener(function(data, elapsedTime) {
			    if (data == null) {
			        return;
			    }
			    var xprediction = data.x; //these x coordinates are relative to the viewport 
			    var yprediction = data.y; //these y coordinates are relative to the viewport
			    console.log(elapsedTime, xprediction, yprediction); //elapsed time is based on time since begin was called

			    $("#gaze-obj").css({top: yprediction, left: xprediction, position:'absolute'})
			});



			$("#start-gaze-btn").click(function() {
				console.log('start webgazer');
				webgazer.begin();
			});

			$("#pause-gaze-btn").click(function() {
				console.log('pause webgazer');
				webgazer.pause();
			});

			$("#resume-gaze-btn").click(function() {
				console.log('resume webgazer');
				webgazer.resume();
			})

			$("#end-gaze-btn").click(function() {
				console.log('end webgazer');
				webgazer.end();
			})
		})


	</script>

	<p>Testing Webgazer.js</p>

	<button id="start-gaze-btn">Start</button>
	<button id="pause-gaze-btn">Pause</button>
	<button id="resume-gaze-btn">Resume</button>
	<button id="end-gaze-btn">End</button>

	<div id="gaze-obj" style="height: 10px; width: 10px; border-radius: 50px; background: red; position: absolute;"></div>


	

</body>

</html>
